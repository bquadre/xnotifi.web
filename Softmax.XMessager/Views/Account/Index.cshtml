@using System.Globalization
@model List<Softmax.XMessager.Models.ClientModel>
@{
    ViewBag.Title = "Manage Clients";
}

<div class="row" style="padding:45px 25px">

 
    <div class="col-md-12">
        <h2>@ViewBag.Title</h2>
        <div class="row">
            <div class="col-md-8">
              
                    @using (Html.BeginForm("Index", "Account", FormMethod.Get, new { @class = "form-inline" }))
                    {
                         
                        <div class="form-group">
                            <div class="col-md-6">
                                <input type="text" name="q" class="form-control" placeholder="Search"/>
                            </div>
                            <div class="col-md-2">
                                <input type="submit" class="btn btn-default"/>
                            </div>
                        </div>

                    }
                 
            </div>
            <div class="col-md-4">
                <p class="pull-right">
                    @Html.ActionLink("Create New", "Register", "Account", null, new { @class = "btn btn-primary" })
                </p>
            </div>
        </div>
       

       
        <table class="table">
            <tr>
                <th>
                    Date Created
                </th>
                 
                <th>
                    Client
                </th>
                
                <th>
                    Contact Person
                </th>
                
                <th>
                    Contact Email/Phone
                </th>
                 
                <th>
                    Contact Role
                </th>
                <th>
                    Balance
                </th>
                <th>
                    Status
                </th>
                <th>

                </th>
            </tr>
            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    
                     <tr>
                         <td>
                             @item.DateCreated
                         </td>
                         <td>
                             @item.Company
                         </td>

                         <td>
                             @item.FirstName @item.LastName
                         </td>
                         
                         <td>
                             @item.EmailAddress <br/>
                             @item.PhoneNumber
                         </td>
                          
                         <td>
                             @item.Role
                         </td>
                         <td>
                             @item.Balance.ToString("C", new CultureInfo("en-NG"))
                         </td>
                         <td>
                             @if(item.IsActive){
                                 <span class="badge badge-success">Active</span>
                             } else {
                                 <span class="badge badge-danger">Inactive</span>
                             }
                     
                         </td>
                         <td>
                             @Html.ActionLink("Edit", "Edit", new {id = item.ClientId}, new {@class = "btn btn-outline-primary btn-sm"})

                             @Html.ActionLink("Roles", "Roles", "Account", new {id = item.AspnetUserId}, new {@class = "btn btn-outline-success btn-sm"})
                         </td>
                     </tr>
                 }
            }
        </table>
      

    </div>
    
</div>
